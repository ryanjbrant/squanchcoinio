{"ast":null,"code":"var _jsxFileName = \"/Users/ryan/H3M Dropbox/Ryan Brant/repos/squanchcoin/src/components/BlotterText.tsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useRef, useState } from 'react';\nimport styled from 'styled-components';\nimport * as THREE from 'three';\n\n/**\n * ⚠️ CRITICAL STYLING\n * These styles ensure proper rendering and sizing of the WebGL canvas.\n * The $isHeader prop controls whether the text takes full viewport height.\n * DO NOT modify the width/height calculations or flex properties.\n */\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst TextContainer = styled.div`\n  width: 100%;\n  height: ${props => props.$isHeader ? '100vh' : 'auto'};\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  canvas {\n    width: 100% !important;\n    height: ${props => props.$isHeader ? '100vh' : 'auto'} !important;\n    object-fit: contain;\n  }\n`;\n\n/**\n * Fallback component when WebGL is not available\n * Maintains consistent styling with the WebGL version\n */\n_c = TextContainer;\nconst FallbackText = styled.div`\n  width: 100%;\n  height: ${props => props.$isHeader ? '100vh' : 'auto'};\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-family: 'Creepster', cursive;\n  font-size: ${props => props.$isHeader ? '4rem' : '2rem'};\n  color: ${props => props.color || '#fff'};\n`;\n_c2 = FallbackText;\n/**\n * ⚠️ CRITICAL SHADER CODE\n * Basic vertex shader that passes UV coordinates to fragment shader\n * DO NOT modify unless you fully understand WebGL shaders\n */\nconst vertexShader = `\n  varying vec2 vUv;\n  void main() {\n    vUv = uv;\n    gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n  }\n`;\n\n/**\n * ⚠️ CRITICAL SHADER CODE\n * Fragment shader that creates the liquid distortion effect\n * Carefully tuned parameters for stability and performance\n * DO NOT modify the following:\n * - UV clamping\n * - Alpha channel handling\n * - Distortion parameters\n */\nconst fragmentShader = `\n  uniform float time;\n  uniform float distortionFactor;\n  uniform float scrollVelocity;\n  uniform vec2 mousePos;\n  uniform vec3 color;\n  uniform sampler2D textTexture;\n  varying vec2 vUv;\n\n  void main() {\n    vec2 uv = vUv;\n    \n    // Calculate distance from mouse with much smaller radius but sharper falloff\n    float dist = distance(mousePos, uv);\n    float influence = smoothstep(0.1, 0.0, dist) * distortionFactor;\n    influence = pow(influence, 0.7); // Sharper falloff but maintain strength\n    \n    // Add scroll-based stretching effect with much larger magnitude\n    float scrollStretch = scrollVelocity * 0.15 * (1.0 - uv.y); // Increased from 0.02 to 0.15\n    scrollStretch *= 1.0 + sin(uv.y * 3.14159); // Add non-linear stretching\n    uv.y += scrollStretch;\n    \n    // Add enhanced scroll-based wave distortion\n    float scrollWave = sin(uv.y * 20.0 + time * 2.0) * scrollVelocity * 0.05; // Increased from 0.01 to 0.05\n    scrollWave += cos(uv.x * 15.0 - time) * scrollVelocity * 0.03; // Add horizontal wave\n    uv.x += scrollWave;\n    \n    // Create more intense wave effect with higher frequency\n    float wave = sin(uv.x * 30.0 + time) * 0.06 * influence;\n    wave += cos(uv.y * 25.0 + time * 0.8) * 0.04 * influence;\n    uv.y += wave;\n    \n    // Create more detailed liquid-like distortion\n    float distortion = sin(uv.x * 20.0 + time * 1.5) * cos(uv.y * 15.0 + time) * influence;\n    distortion += sin(uv.y * 12.0 - time) * 0.02 * influence;\n    uv += distortion * 0.05;\n\n    // Add a tighter ripple effect\n    float ripple = sin(dist * 50.0 - time * 3.0) * 0.03 * influence;\n    uv += ripple;\n\n    // Sample the text texture with clamping\n    vec2 clampedUv = clamp(uv, 0.0, 1.0);\n    vec4 texColor = texture2D(textTexture, clampedUv);\n    \n    // Use the red channel as alpha (since we drew white text on black)\n    float alpha = texColor.r;\n    \n    // Output final color\n    gl_FragColor = vec4(color, alpha);\n  }\n`;\n\n/**\n * ⚠️ CRITICAL INITIALIZATION\n * Static WebGL availability check\n * DO NOT modify this check as it's essential for fallback handling\n */\nconst webGLAvailable = (() => {\n  try {\n    const canvas = document.createElement('canvas');\n    return !!(window.WebGLRenderingContext && (canvas.getContext('webgl') || canvas.getContext('experimental-webgl')));\n  } catch (e) {\n    return false;\n  }\n})();\n\n/**\n * ⚠️ CRITICAL UTILITY\n * Color parsing utility that handles rgba values\n * Essential for proper color handling in WebGL\n */\nconst parseRGBA = color => {\n  if (color.startsWith('rgba')) {\n    const matches = color.match(/rgba?\\((\\d+),\\s*(\\d+),\\s*(\\d+)/);\n    if (matches) {\n      return `rgb(${matches[1]}, ${matches[2]}, ${matches[3]})`;\n    }\n  }\n  return color;\n};\nexport const BlotterText = ({\n  text,\n  size = 100,\n  fill = '#fff',\n  className,\n  isHeader = false\n}) => {\n  _s();\n  const containerRef = useRef(null);\n  const rendererRef = useRef(null);\n  const sceneRef = useRef(null);\n  const cameraRef = useRef(null);\n  const materialRef = useRef(null);\n  const mousePos = useRef({\n    x: 0.5,\n    y: 0.5\n  });\n  const frameRef = useRef();\n  const lastScrollY = useRef(window.scrollY);\n  const scrollVelocity = useRef(0);\n  const [hasError, setHasError] = useState(!webGLAvailable);\n  useEffect(() => {\n    if (!containerRef.current || hasError) return;\n    try {\n      // Cleanup previous instance if it exists\n      if (rendererRef.current) {\n        rendererRef.current.dispose();\n        rendererRef.current = null;\n      }\n\n      // Get initial dimensions\n      const initialWidth = containerRef.current.clientWidth || window.innerWidth;\n      const initialHeight = isHeader ? window.innerHeight : containerRef.current.clientHeight || window.innerHeight;\n      if (initialWidth === 0 || initialHeight === 0) {\n        console.error('Invalid container dimensions');\n        setHasError(true);\n        return;\n      }\n\n      // Setup Three.js scene\n      const scene = new THREE.Scene();\n      sceneRef.current = scene;\n\n      // Setup camera\n      const camera = new THREE.OrthographicCamera(-1, 1, 1, -1, 0.1, 10);\n      camera.position.z = 1;\n      cameraRef.current = camera;\n\n      // Setup renderer with error handling\n      const renderer = new THREE.WebGLRenderer({\n        antialias: true,\n        alpha: true,\n        powerPreference: 'default',\n        preserveDrawingBuffer: true\n      });\n      renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2));\n      renderer.setSize(initialWidth, initialHeight);\n      rendererRef.current = renderer;\n\n      // Clear container\n      while (containerRef.current.firstChild) {\n        containerRef.current.removeChild(containerRef.current.firstChild);\n      }\n      containerRef.current.appendChild(renderer.domElement);\n\n      // Create text texture\n      const canvas = document.createElement('canvas');\n      const ctx = canvas.getContext('2d', {\n        alpha: true\n      });\n      if (!ctx) {\n        setHasError(true);\n        return;\n      }\n\n      // Set canvas size based on container size\n      const containerAspect = initialWidth / initialHeight;\n\n      // Use power-of-two dimensions for textures, ensuring minimum size\n      const minSize = 256;\n      const textureWidth = Math.max(minSize, Math.pow(2, Math.ceil(Math.log2(Math.min(2048, initialWidth)))));\n      const textureHeight = Math.max(minSize, Math.pow(2, Math.ceil(Math.log2(textureWidth / containerAspect))));\n      canvas.width = textureWidth;\n      canvas.height = textureHeight;\n\n      // Fill canvas with black background\n      ctx.fillStyle = '#000000';\n      ctx.fillRect(0, 0, canvas.width, canvas.height);\n\n      // Calculate and set font size\n      const fontSize = isHeader ? Math.floor(canvas.height * 0.25) : Math.floor(canvas.height * 0.8);\n      ctx.font = `bold ${fontSize}px Creepster`;\n      ctx.fillStyle = '#ffffff';\n      ctx.textAlign = 'center';\n      ctx.textBaseline = 'middle';\n\n      // Measure and scale text if needed\n      const textMetrics = ctx.measureText(text);\n      const textWidth = textMetrics.width;\n      const maxWidth = canvas.width * 0.9;\n      if (textWidth > maxWidth) {\n        const scale = maxWidth / textWidth;\n        ctx.font = `bold ${Math.floor(fontSize * scale)}px Creepster`;\n      }\n\n      // Draw text\n      ctx.fillText(text, canvas.width / 2, canvas.height / 2);\n\n      // Create texture with proper settings\n      const texture = new THREE.Texture(canvas);\n      texture.needsUpdate = true;\n      texture.minFilter = THREE.LinearFilter;\n      texture.magFilter = THREE.LinearFilter;\n      texture.format = THREE.RGBAFormat;\n      texture.type = THREE.UnsignedByteType;\n\n      // Parse color properly\n      const color = new THREE.Color();\n      try {\n        const parsedColor = parseRGBA(fill);\n        color.setStyle(parsedColor);\n      } catch (e) {\n        console.warn('Color parsing failed, using default white');\n        color.setRGB(1, 1, 1);\n      }\n\n      // Create shader material\n      const material = new THREE.ShaderMaterial({\n        uniforms: {\n          time: {\n            value: 0\n          },\n          distortionFactor: {\n            value: 0\n          },\n          scrollVelocity: {\n            value: 0\n          },\n          mousePos: {\n            value: new THREE.Vector2(0.5, 0.5)\n          },\n          color: {\n            value: color\n          },\n          textTexture: {\n            value: texture\n          }\n        },\n        vertexShader,\n        fragmentShader,\n        transparent: true\n      });\n      materialRef.current = material;\n\n      // Create mesh with proper aspect ratio\n      const geometry = new THREE.PlaneGeometry(2, 2 / containerAspect);\n      const mesh = new THREE.Mesh(geometry, material);\n      scene.add(mesh);\n      let isAnimating = true;\n      let lastTime = performance.now();\n      const animate = () => {\n        if (!isAnimating || !material || !renderer || !scene || !camera) return;\n        const currentTime = performance.now();\n        const deltaTime = (currentTime - lastTime) / 1000; // Convert to seconds\n        lastTime = currentTime;\n        material.uniforms.time.value += 0.01;\n        material.uniforms.mousePos.value.set(mousePos.current.x, mousePos.current.y);\n\n        // Apply velocity decay\n        scrollVelocity.current *= 0.95;\n        material.uniforms.scrollVelocity.value = scrollVelocity.current;\n        renderer.render(scene, camera);\n        frameRef.current = requestAnimationFrame(animate);\n      };\n      frameRef.current = requestAnimationFrame(animate);\n\n      // Handle mouse movement\n      const handleMouseMove = e => {\n        var _containerRef$current;\n        const rect = (_containerRef$current = containerRef.current) === null || _containerRef$current === void 0 ? void 0 : _containerRef$current.getBoundingClientRect();\n        if (!rect) return;\n        mousePos.current = {\n          x: (e.clientX - rect.left) / rect.width,\n          y: 1 - (e.clientY - rect.top) / rect.height\n        };\n        if (materialRef.current) {\n          const dist = Math.hypot(mousePos.current.x - 0.5, mousePos.current.y - 0.5);\n          // Increase maximum distortion for more intense effect\n          materialRef.current.uniforms.distortionFactor.value = Math.min(dist * 4, 2.0);\n        }\n      };\n      window.addEventListener('mousemove', handleMouseMove);\n\n      // Handle resize\n      const handleResize = () => {\n        if (!containerRef.current || !renderer || !camera) return;\n        const newWidth = containerRef.current.clientWidth;\n        const newHeight = isHeader ? window.innerHeight : containerRef.current.clientHeight;\n        const newAspect = newWidth / newHeight;\n        renderer.setSize(newWidth, newHeight);\n        camera.left = -1;\n        camera.right = 1;\n        camera.top = 1 / newAspect;\n        camera.bottom = -1 / newAspect;\n        camera.updateProjectionMatrix();\n      };\n      window.addEventListener('resize', handleResize);\n      handleResize();\n\n      // Handle scroll\n      const handleScroll = () => {\n        const currentScrollY = window.scrollY;\n        const deltaY = currentScrollY - lastScrollY.current;\n\n        // Calculate velocity based on scroll change with increased sensitivity\n        scrollVelocity.current = Math.max(-2, Math.min(2, deltaY * 0.03)); // Increased multiplier and range\n\n        lastScrollY.current = currentScrollY;\n      };\n\n      // Add scroll listener\n      window.addEventListener('scroll', handleScroll, {\n        passive: true\n      });\n\n      // Handle WebGL context loss\n      const handleContextLost = () => {\n        isAnimating = false;\n        setHasError(true);\n      };\n      const handleContextRestored = () => {\n        isAnimating = true;\n        setHasError(false);\n      };\n      renderer.domElement.addEventListener('webglcontextlost', handleContextLost);\n      renderer.domElement.addEventListener('webglcontextrestored', handleContextRestored);\n      return () => {\n        isAnimating = false;\n        if (frameRef.current) {\n          cancelAnimationFrame(frameRef.current);\n        }\n        window.removeEventListener('mousemove', handleMouseMove);\n        window.removeEventListener('resize', handleResize);\n        window.removeEventListener('scroll', handleScroll);\n        renderer.domElement.removeEventListener('webglcontextlost', handleContextLost);\n        renderer.domElement.removeEventListener('webglcontextrestored', handleContextRestored);\n        renderer.dispose();\n        geometry.dispose();\n        material.dispose();\n        texture.dispose();\n      };\n    } catch (e) {\n      console.error('Setup error:', e);\n      setHasError(true);\n    }\n  }, [text, size, fill, isHeader, hasError]);\n  if (hasError) {\n    return /*#__PURE__*/_jsxDEV(FallbackText, {\n      $isHeader: isHeader,\n      className: className,\n      color: fill,\n      children: text\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 418,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(TextContainer, {\n    ref: containerRef,\n    className: className,\n    $isHeader: isHeader\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 428,\n    columnNumber: 10\n  }, this);\n};\n_s(BlotterText, \"Hz8/sOpaBsQodvIHMpuLpKiKkic=\");\n_c3 = BlotterText;\nvar _c, _c2, _c3;\n$RefreshReg$(_c, \"TextContainer\");\n$RefreshReg$(_c2, \"FallbackText\");\n$RefreshReg$(_c3, \"BlotterText\");","map":{"version":3,"names":["React","useEffect","useRef","useState","styled","THREE","jsxDEV","_jsxDEV","TextContainer","div","props","$isHeader","_c","FallbackText","color","_c2","vertexShader","fragmentShader","webGLAvailable","canvas","document","createElement","window","WebGLRenderingContext","getContext","e","parseRGBA","startsWith","matches","match","BlotterText","text","size","fill","className","isHeader","_s","containerRef","rendererRef","sceneRef","cameraRef","materialRef","mousePos","x","y","frameRef","lastScrollY","scrollY","scrollVelocity","hasError","setHasError","current","dispose","initialWidth","clientWidth","innerWidth","initialHeight","innerHeight","clientHeight","console","error","scene","Scene","camera","OrthographicCamera","position","z","renderer","WebGLRenderer","antialias","alpha","powerPreference","preserveDrawingBuffer","setPixelRatio","Math","min","devicePixelRatio","setSize","firstChild","removeChild","appendChild","domElement","ctx","containerAspect","minSize","textureWidth","max","pow","ceil","log2","textureHeight","width","height","fillStyle","fillRect","fontSize","floor","font","textAlign","textBaseline","textMetrics","measureText","textWidth","maxWidth","scale","fillText","texture","Texture","needsUpdate","minFilter","LinearFilter","magFilter","format","RGBAFormat","type","UnsignedByteType","Color","parsedColor","setStyle","warn","setRGB","material","ShaderMaterial","uniforms","time","value","distortionFactor","Vector2","textTexture","transparent","geometry","PlaneGeometry","mesh","Mesh","add","isAnimating","lastTime","performance","now","animate","currentTime","deltaTime","set","render","requestAnimationFrame","handleMouseMove","_containerRef$current","rect","getBoundingClientRect","clientX","left","clientY","top","dist","hypot","addEventListener","handleResize","newWidth","newHeight","newAspect","right","bottom","updateProjectionMatrix","handleScroll","currentScrollY","deltaY","passive","handleContextLost","handleContextRestored","cancelAnimationFrame","removeEventListener","children","fileName","_jsxFileName","lineNumber","columnNumber","ref","_c3","$RefreshReg$"],"sources":["/Users/ryan/H3M Dropbox/Ryan Brant/repos/squanchcoin/src/components/BlotterText.tsx"],"sourcesContent":["import React, { useEffect, useRef, useState } from 'react';\nimport styled from 'styled-components';\nimport * as THREE from 'three';\n\n/**\n * ⚠️ CRITICAL STYLING\n * These styles ensure proper rendering and sizing of the WebGL canvas.\n * The $isHeader prop controls whether the text takes full viewport height.\n * DO NOT modify the width/height calculations or flex properties.\n */\nconst TextContainer = styled.div<{ $isHeader?: boolean }>`\n  width: 100%;\n  height: ${props => props.$isHeader ? '100vh' : 'auto'};\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  canvas {\n    width: 100% !important;\n    height: ${props => props.$isHeader ? '100vh' : 'auto'} !important;\n    object-fit: contain;\n  }\n`;\n\n/**\n * Fallback component when WebGL is not available\n * Maintains consistent styling with the WebGL version\n */\nconst FallbackText = styled.div<{ $isHeader?: boolean }>`\n  width: 100%;\n  height: ${props => props.$isHeader ? '100vh' : 'auto'};\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-family: 'Creepster', cursive;\n  font-size: ${props => props.$isHeader ? '4rem' : '2rem'};\n  color: ${props => props.color || '#fff'};\n`;\n\ninterface BlotterTextProps {\n  text: string;\n  size?: number;\n  fill?: string;\n  className?: string;\n  isHeader?: boolean;\n}\n\n/**\n * ⚠️ CRITICAL SHADER CODE\n * Basic vertex shader that passes UV coordinates to fragment shader\n * DO NOT modify unless you fully understand WebGL shaders\n */\nconst vertexShader = `\n  varying vec2 vUv;\n  void main() {\n    vUv = uv;\n    gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n  }\n`;\n\n/**\n * ⚠️ CRITICAL SHADER CODE\n * Fragment shader that creates the liquid distortion effect\n * Carefully tuned parameters for stability and performance\n * DO NOT modify the following:\n * - UV clamping\n * - Alpha channel handling\n * - Distortion parameters\n */\nconst fragmentShader = `\n  uniform float time;\n  uniform float distortionFactor;\n  uniform float scrollVelocity;\n  uniform vec2 mousePos;\n  uniform vec3 color;\n  uniform sampler2D textTexture;\n  varying vec2 vUv;\n\n  void main() {\n    vec2 uv = vUv;\n    \n    // Calculate distance from mouse with much smaller radius but sharper falloff\n    float dist = distance(mousePos, uv);\n    float influence = smoothstep(0.1, 0.0, dist) * distortionFactor;\n    influence = pow(influence, 0.7); // Sharper falloff but maintain strength\n    \n    // Add scroll-based stretching effect with much larger magnitude\n    float scrollStretch = scrollVelocity * 0.15 * (1.0 - uv.y); // Increased from 0.02 to 0.15\n    scrollStretch *= 1.0 + sin(uv.y * 3.14159); // Add non-linear stretching\n    uv.y += scrollStretch;\n    \n    // Add enhanced scroll-based wave distortion\n    float scrollWave = sin(uv.y * 20.0 + time * 2.0) * scrollVelocity * 0.05; // Increased from 0.01 to 0.05\n    scrollWave += cos(uv.x * 15.0 - time) * scrollVelocity * 0.03; // Add horizontal wave\n    uv.x += scrollWave;\n    \n    // Create more intense wave effect with higher frequency\n    float wave = sin(uv.x * 30.0 + time) * 0.06 * influence;\n    wave += cos(uv.y * 25.0 + time * 0.8) * 0.04 * influence;\n    uv.y += wave;\n    \n    // Create more detailed liquid-like distortion\n    float distortion = sin(uv.x * 20.0 + time * 1.5) * cos(uv.y * 15.0 + time) * influence;\n    distortion += sin(uv.y * 12.0 - time) * 0.02 * influence;\n    uv += distortion * 0.05;\n\n    // Add a tighter ripple effect\n    float ripple = sin(dist * 50.0 - time * 3.0) * 0.03 * influence;\n    uv += ripple;\n\n    // Sample the text texture with clamping\n    vec2 clampedUv = clamp(uv, 0.0, 1.0);\n    vec4 texColor = texture2D(textTexture, clampedUv);\n    \n    // Use the red channel as alpha (since we drew white text on black)\n    float alpha = texColor.r;\n    \n    // Output final color\n    gl_FragColor = vec4(color, alpha);\n  }\n`;\n\n/**\n * ⚠️ CRITICAL INITIALIZATION\n * Static WebGL availability check\n * DO NOT modify this check as it's essential for fallback handling\n */\nconst webGLAvailable = (() => {\n  try {\n    const canvas = document.createElement('canvas');\n    return !!(window.WebGLRenderingContext && \n      (canvas.getContext('webgl') || canvas.getContext('experimental-webgl')));\n  } catch (e) {\n    return false;\n  }\n})();\n\n/**\n * ⚠️ CRITICAL UTILITY\n * Color parsing utility that handles rgba values\n * Essential for proper color handling in WebGL\n */\nconst parseRGBA = (color: string): string => {\n  if (color.startsWith('rgba')) {\n    const matches = color.match(/rgba?\\((\\d+),\\s*(\\d+),\\s*(\\d+)/);\n    if (matches) {\n      return `rgb(${matches[1]}, ${matches[2]}, ${matches[3]})`;\n    }\n  }\n  return color;\n};\n\nexport const BlotterText: React.FC<BlotterTextProps> = ({ \n  text, \n  size = 100,\n  fill = '#fff',\n  className,\n  isHeader = false\n}) => {\n  const containerRef = useRef<HTMLDivElement>(null);\n  const rendererRef = useRef<THREE.WebGLRenderer | null>(null);\n  const sceneRef = useRef<THREE.Scene | null>(null);\n  const cameraRef = useRef<THREE.OrthographicCamera | null>(null);\n  const materialRef = useRef<THREE.ShaderMaterial | null>(null);\n  const mousePos = useRef<{ x: number; y: number }>({ x: 0.5, y: 0.5 });\n  const frameRef = useRef<number>();\n  const lastScrollY = useRef(window.scrollY);\n  const scrollVelocity = useRef(0);\n  const [hasError, setHasError] = useState(!webGLAvailable);\n\n  useEffect(() => {\n    if (!containerRef.current || hasError) return;\n\n    try {\n      // Cleanup previous instance if it exists\n      if (rendererRef.current) {\n        rendererRef.current.dispose();\n        rendererRef.current = null;\n      }\n\n      // Get initial dimensions\n      const initialWidth = containerRef.current.clientWidth || window.innerWidth;\n      const initialHeight = isHeader ? window.innerHeight : (containerRef.current.clientHeight || window.innerHeight);\n      \n      if (initialWidth === 0 || initialHeight === 0) {\n        console.error('Invalid container dimensions');\n        setHasError(true);\n        return;\n      }\n\n      // Setup Three.js scene\n      const scene = new THREE.Scene();\n      sceneRef.current = scene;\n\n      // Setup camera\n      const camera = new THREE.OrthographicCamera(-1, 1, 1, -1, 0.1, 10);\n      camera.position.z = 1;\n      cameraRef.current = camera;\n\n      // Setup renderer with error handling\n      const renderer = new THREE.WebGLRenderer({ \n        antialias: true, \n        alpha: true,\n        powerPreference: 'default',\n        preserveDrawingBuffer: true\n      });\n\n      renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2));\n      renderer.setSize(initialWidth, initialHeight);\n      rendererRef.current = renderer;\n      \n      // Clear container\n      while (containerRef.current.firstChild) {\n        containerRef.current.removeChild(containerRef.current.firstChild);\n      }\n      containerRef.current.appendChild(renderer.domElement);\n\n      // Create text texture\n      const canvas = document.createElement('canvas');\n      const ctx = canvas.getContext('2d', { alpha: true });\n      if (!ctx) {\n        setHasError(true);\n        return;\n      }\n\n      // Set canvas size based on container size\n      const containerAspect = initialWidth / initialHeight;\n      \n      // Use power-of-two dimensions for textures, ensuring minimum size\n      const minSize = 256;\n      const textureWidth = Math.max(minSize, Math.pow(2, Math.ceil(Math.log2(Math.min(2048, initialWidth)))));\n      const textureHeight = Math.max(minSize, Math.pow(2, Math.ceil(Math.log2(textureWidth / containerAspect))));\n      \n      canvas.width = textureWidth;\n      canvas.height = textureHeight;\n      \n      // Fill canvas with black background\n      ctx.fillStyle = '#000000';\n      ctx.fillRect(0, 0, canvas.width, canvas.height);\n      \n      // Calculate and set font size\n      const fontSize = isHeader \n        ? Math.floor(canvas.height * 0.25)\n        : Math.floor(canvas.height * 0.8);\n      \n      ctx.font = `bold ${fontSize}px Creepster`;\n      ctx.fillStyle = '#ffffff';\n      ctx.textAlign = 'center';\n      ctx.textBaseline = 'middle';\n      \n      // Measure and scale text if needed\n      const textMetrics = ctx.measureText(text);\n      const textWidth = textMetrics.width;\n      const maxWidth = canvas.width * 0.9;\n      \n      if (textWidth > maxWidth) {\n        const scale = maxWidth / textWidth;\n        ctx.font = `bold ${Math.floor(fontSize * scale)}px Creepster`;\n      }\n      \n      // Draw text\n      ctx.fillText(text, canvas.width / 2, canvas.height / 2);\n\n      // Create texture with proper settings\n      const texture = new THREE.Texture(canvas);\n      texture.needsUpdate = true;\n      texture.minFilter = THREE.LinearFilter;\n      texture.magFilter = THREE.LinearFilter;\n      texture.format = THREE.RGBAFormat;\n      texture.type = THREE.UnsignedByteType;\n\n      // Parse color properly\n      const color = new THREE.Color();\n      try {\n        const parsedColor = parseRGBA(fill);\n        color.setStyle(parsedColor);\n      } catch (e) {\n        console.warn('Color parsing failed, using default white');\n        color.setRGB(1, 1, 1);\n      }\n\n      // Create shader material\n      const material = new THREE.ShaderMaterial({\n        uniforms: {\n          time: { value: 0 },\n          distortionFactor: { value: 0 },\n          scrollVelocity: { value: 0 },\n          mousePos: { value: new THREE.Vector2(0.5, 0.5) },\n          color: { value: color },\n          textTexture: { value: texture }\n        },\n        vertexShader,\n        fragmentShader,\n        transparent: true\n      });\n      materialRef.current = material;\n\n      // Create mesh with proper aspect ratio\n      const geometry = new THREE.PlaneGeometry(2, 2 / containerAspect);\n      const mesh = new THREE.Mesh(geometry, material);\n      scene.add(mesh);\n\n      let isAnimating = true;\n      let lastTime = performance.now();\n      \n      const animate = () => {\n        if (!isAnimating || !material || !renderer || !scene || !camera) return;\n\n        const currentTime = performance.now();\n        const deltaTime = (currentTime - lastTime) / 1000; // Convert to seconds\n        lastTime = currentTime;\n\n        material.uniforms.time.value += 0.01;\n        material.uniforms.mousePos.value.set(mousePos.current.x, mousePos.current.y);\n        \n        // Apply velocity decay\n        scrollVelocity.current *= 0.95;\n        material.uniforms.scrollVelocity.value = scrollVelocity.current;\n        \n        renderer.render(scene, camera);\n        frameRef.current = requestAnimationFrame(animate);\n      };\n\n      frameRef.current = requestAnimationFrame(animate);\n\n      // Handle mouse movement\n      const handleMouseMove = (e: MouseEvent) => {\n        const rect = containerRef.current?.getBoundingClientRect();\n        if (!rect) return;\n\n        mousePos.current = {\n          x: (e.clientX - rect.left) / rect.width,\n          y: 1 - (e.clientY - rect.top) / rect.height\n        };\n\n        if (materialRef.current) {\n          const dist = Math.hypot(\n            mousePos.current.x - 0.5,\n            mousePos.current.y - 0.5\n          );\n          // Increase maximum distortion for more intense effect\n          materialRef.current.uniforms.distortionFactor.value = Math.min(dist * 4, 2.0);\n        }\n      };\n\n      window.addEventListener('mousemove', handleMouseMove);\n\n      // Handle resize\n      const handleResize = () => {\n        if (!containerRef.current || !renderer || !camera) return;\n        \n        const newWidth = containerRef.current.clientWidth;\n        const newHeight = isHeader ? window.innerHeight : containerRef.current.clientHeight;\n        const newAspect = newWidth / newHeight;\n        \n        renderer.setSize(newWidth, newHeight);\n        \n        camera.left = -1;\n        camera.right = 1;\n        camera.top = 1 / newAspect;\n        camera.bottom = -1 / newAspect;\n        camera.updateProjectionMatrix();\n      };\n\n      window.addEventListener('resize', handleResize);\n      handleResize();\n\n      // Handle scroll\n      const handleScroll = () => {\n        const currentScrollY = window.scrollY;\n        const deltaY = currentScrollY - lastScrollY.current;\n        \n        // Calculate velocity based on scroll change with increased sensitivity\n        scrollVelocity.current = Math.max(-2, Math.min(2, deltaY * 0.03)); // Increased multiplier and range\n        \n        lastScrollY.current = currentScrollY;\n      };\n\n      // Add scroll listener\n      window.addEventListener('scroll', handleScroll, { passive: true });\n\n      // Handle WebGL context loss\n      const handleContextLost = () => {\n        isAnimating = false;\n        setHasError(true);\n      };\n\n      const handleContextRestored = () => {\n        isAnimating = true;\n        setHasError(false);\n      };\n\n      renderer.domElement.addEventListener('webglcontextlost', handleContextLost);\n      renderer.domElement.addEventListener('webglcontextrestored', handleContextRestored);\n\n      return () => {\n        isAnimating = false;\n        if (frameRef.current) {\n          cancelAnimationFrame(frameRef.current);\n        }\n        window.removeEventListener('mousemove', handleMouseMove);\n        window.removeEventListener('resize', handleResize);\n        window.removeEventListener('scroll', handleScroll);\n        renderer.domElement.removeEventListener('webglcontextlost', handleContextLost);\n        renderer.domElement.removeEventListener('webglcontextrestored', handleContextRestored);\n        renderer.dispose();\n        geometry.dispose();\n        material.dispose();\n        texture.dispose();\n      };\n    } catch (e) {\n      console.error('Setup error:', e);\n      setHasError(true);\n    }\n  }, [text, size, fill, isHeader, hasError]);\n\n  if (hasError) {\n    return (\n      <FallbackText \n        $isHeader={isHeader} \n        className={className}\n        color={fill}\n      >\n        {text}\n      </FallbackText>\n    );\n  }\n\n  return <TextContainer ref={containerRef} className={className} $isHeader={isHeader} />;\n}; "],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,MAAM,EAAEC,QAAQ,QAAQ,OAAO;AAC1D,OAAOC,MAAM,MAAM,mBAAmB;AACtC,OAAO,KAAKC,KAAK,MAAM,OAAO;;AAE9B;AACA;AACA;AACA;AACA;AACA;AALA,SAAAC,MAAA,IAAAC,OAAA;AAMA,MAAMC,aAAa,GAAGJ,MAAM,CAACK,GAA4B;AACzD;AACA,YAAYC,KAAK,IAAIA,KAAK,CAACC,SAAS,GAAG,OAAO,GAAG,MAAM;AACvD;AACA;AACA;AACA;AACA;AACA,cAAcD,KAAK,IAAIA,KAAK,CAACC,SAAS,GAAG,OAAO,GAAG,MAAM;AACzD;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AAHAC,EAAA,GAbMJ,aAAa;AAiBnB,MAAMK,YAAY,GAAGT,MAAM,CAACK,GAA4B;AACxD;AACA,YAAYC,KAAK,IAAIA,KAAK,CAACC,SAAS,GAAG,OAAO,GAAG,MAAM;AACvD;AACA;AACA;AACA;AACA,eAAeD,KAAK,IAAIA,KAAK,CAACC,SAAS,GAAG,MAAM,GAAG,MAAM;AACzD,WAAWD,KAAK,IAAIA,KAAK,CAACI,KAAK,IAAI,MAAM;AACzC,CAAC;AAACC,GAAA,GATIF,YAAY;AAmBlB;AACA;AACA;AACA;AACA;AACA,MAAMG,YAAY,GAAG;AACrB;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAMC,cAAc,GAAG;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA,MAAMC,cAAc,GAAG,CAAC,MAAM;EAC5B,IAAI;IACF,MAAMC,MAAM,GAAGC,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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}